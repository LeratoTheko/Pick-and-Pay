
<!DOCTYPE html>
<html lang="en">
<head>

    {% load static %}



    <meta charset="UTF-8">
    <title>Manager Dashboard | Pick n Pay Lesotho</title>
    <link rel="stylesheet" href="{% static 'stylesheet/.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>

    {% include "pay/navigation/admin_nav.html" %}

<!-- Manager Dashboard Hero -->
<div class="container mt-6 pt-5">
    <div class="text-center py-4">
        <h2 class="display-5 text-muted fw-bold" style="color: #CFD8DC;">
            Welcome <span style="color: #D7CCC8;">{{ user.first_name }} {{ user.last_name }}</span>, 
            {% if user.groups.all.0.name %}{{ user.groups.all.0.name }}{% endif %}
        </h2>
        <h4 class="text-muted" style="color: #CFD8DC;">Here's what's happening in the store today</h4>
    </div>
    

    <!-- KPI Cards -->
    <div class="row text-center g-4">
        <div class="col-md-3">
            <div class="card shadow-sm border-0 p-3" style="background-color: #CFD8DC;">
                <i class="bi bi-currency-dollar fs-1 text-success"></i>
                <h5 class="mt-3">Sales Today</h5>
                <p class="fs-4 fw-bold">M4,250</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow-sm border-0 p-3" style="background-color: #CFD8DC;">
                <i class="bi bi-cart-check fs-1 text-primary"></i>
                <h5 class="mt-3">Active Orders</h5>
                <p class="fs-4 fw-bold">23</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow-sm border-0 p-3" style="background-color: #CFD8DC;">
                <i class="bi bi-exclamation-triangle fs-1 text-warning"></i>
                <h5 class="fs-2 mt-3">Low Stock</h5>
                <p class="fs-4 fw-bold">{{ total_attention_items }} Items</p>
                <p class="fs-6 fw-semibold text-danger">{{ out_of_stock_count }} Out of Stock</p>
                <p class="fs-6 fw-semibold text-warning">{{ low_stock_count }} Low Stock</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow-sm border-0 p-3" style="background-color: #CFD8DC;">
                <i class="bi bi-bar-chart-fill fs-1 text-info"></i>
                <h5 class="mt-3">Monthly Revenue</h5>
                <p class="fs-4 fw-bold">M45,800</p>
            </div>
        </div>
    </div>

    <!-- Product Ratings Analytics -->
<div class="mt-5">
    <h4 class="text-secondary">Product Ratings Insights</h4>
    <div class="row text-center g-4 mt-3">
        <div class="col-md-4">
            <div class="card shadow-sm border-0 p-3 bg-light">
                <i class="bi bi-star-fill fs-2 text-warning"></i>
                <h6 class="mt-2">Most Rated Product</h6>
                <p class="fw-semibold">{{ most_rated_product.name }}</p>
                <p>{{ most_rated_product.count }} total ratings</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-sm border-0 p-3 bg-light">
                <i class="bi bi-star-half fs-2 text-muted"></i>
                <h6 class="mt-2">Least Rated Product</h6>
                <p class="fw-semibold">{{ least_rated_product.name }}</p>
                <p>{{ least_rated_product.count }} total ratings</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-sm border-0 p-3 bg-light">
                <i class="bi bi-star fs-2 text-success"></i>
                <h6 class="mt-2">Most 5-Star Ratings</h6>
                <p class="fw-semibold">{{ most_five_star_product.name }}</p>
                <p>{{ most_five_star_product.count }} 5-star ratings</p>
            </div>
        </div>
    </div>
</div>


    <!-- Sales Graph Placeholder -->
    <div class="mt-5">
        <h4 class="text-secondary">Sales Performance</h4>
        <div class="bg-light border rounded p-5 text-center text-muted">
            <i class="bi bi-graph-up-arrow fs-1"></i>
            <p class="mt-3">Sales graph will appear here (integrate chart.js or analytics APIs)</p>
        </div>
    </div>

    <!-- Quick Action Buttons -->
    <div class="mt-5 text-center">
        <a href="#" class="btn btn-outline-danger m-2"><i class="bi bi-plus-circle"></i> Add New Product</a>
        <a href="#" class="btn btn-outline-primary m-2"><i class="bi bi-person-lines-fill"></i> Customer List</a>
        <a href="#" class="btn btn-outline-secondary m-2"><i class="bi bi-clock-history"></i> Order History</a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
